# TDRホテル予約情報：非公式な調査結果

## 概要

本ページの作成者が色々な観測をした範囲で、公式サイトで明示されていないような情報をまとめておきます。
観測自体は概ね2022年01月頃からホテル予約に関する試行錯誤を開始しました。
また、2022年9月半ばの予約分から明らかに開放枠が増えましたので、基本的にはこれ以降の観測情報を元にまとめてあります。

なお、特に断りがなければ、時間関係はサーバーからの返事をブラウザが受信したタイミングをベースにした計測結果です。

## 調査情報

### レア部屋の特徴

これまでの観測から各レア部屋の特徴を基本情報としてまとめておきます。

* ハバグラ
    * 11時開放タイミング： 概ね10秒以内だが11時きっかりのケースは少なめ、詳細は後述
    * 11時開放枠数： 後述通り、85%は2枠開放、15%が1枠開放、開放なしは年に数回あるかないか
    * 11時満室タイミング： 概ね10秒以内
    * 11時過ぎの放置枠＆放棄枠： 落ちなくはないが、割合的には多くないかも知れない
* ハバテラ
    * 11時開放タイミング： 概ねハバグラと同傾向、一応ハバグラ→ハバテラの順番のケースが多い
    * 11時開放枠数： 割合は未確認ながら、概ね3枠開放、ときどき2枠開放、1枠開放になるのはかなり特殊な日で、開放なしを観測したことはない
    * 11時満室タイミング： 概ね10秒台
    * 11時過ぎの放置枠＆放棄枠： 思ったよりは落ちてくる印象
* ピアテラ
    * 11時開放タイミング： 概ねハバグラと同傾向、一応ハバグラ→ハバテラ→ピアテラの順番のケースが多い
    * 11時開放枠数： 割合は未確認ながら、概ね2枠開放、極稀に1枠開放、開放なしを観測したことはない
    * 11時満室タイミング： ばらつきが大きいが、ハバテラよりは遅いケースが大半
    * 11時過ぎの放置枠＆放棄枠： 思ったよりは落ちてくる印象
* ハババル
    * 11時開放タイミング： かなり早め、11時には開放されているケースが大半
    * 11時開放枠数： 割合は未確認ながら、基本的に2枠開放、極々稀に1枠開放、開放なしを観測したことはない
        * 常軌を逸した速さで埋まるケースが多く空き枠数の観測は困難、超高速で埋まって1枠開放に見えただけの可能性もあり
    * 11時満室タイミング： 大半は常軌を逸した速さ、凡人が太刀打ち出来るレベルではない
    * 11時過ぎの放置枠＆放棄枠： 思ったよりは落ちてくる印象、11時の開放時点の難易度を考慮すると放置枠狙いが本選と呼べるレベルか
* ハババル4名
    * 11時開放タイミング： かなり早め、11時には開放されているケースが大半、一応はハババルより4名部屋の方が先に開放
    * 11時開放枠数： 割合は未確認ながら、基本的に2枠開放、極稀に1枠開放、開放なしを観測したことはない
        * 常軌を逸した速さで埋まるケースが多く空き枠数の観測は困難、超高速で埋まって1枠開放に見えただけの可能性もあり
    * 11時満室タイミング： ハババル級の常軌を逸した速さになることもあるが、割合的にはハババルよりは少ない、ただいハバグラより先に消えるケースも少なくない
    * 11時過ぎの放置枠＆放棄枠： 思ったよりは落ちてくる印象、11時の開放時点の難易度を考慮すると放置枠狙いが本選と呼べるレベルか


### 開放時点の詳細なタイミング

宿泊予約が最初に開放される11時に関して、特にレアリティの高いミラコスタのテラスルームやバルコニールームは11時きっかりではなく、開放タイミングが数秒～数十秒程度のズレが発生します。
このタイミングのズレは日替わりで、明確に11時の何秒に開放されるかは不定となっている模様です。

このため、11時の開放タイミングで『何秒前に読み込みを開始すべきか？』に対して正確に答えることは理屈上は不可能となります。
通信環境のタイムラグだけでなく、正解となる開放タイミングも不定なので、読み込みを開始すべきタイミングも不定、つまりは運次第です。

ただ大まかな傾向はいくつかあります。

* 開放する順番はほぼ固定されていて、バルコニールーム→テラスルームの順番に開放される
    * 極稀にこの順番にならないケースもあるが、年に数回レベル
    * バルコニールームの中では、ハババル4名→ハババルの順番で開放されるが、この差は極めて小さいケースが多い
    * テラスルームの中では、ハバグラ→ハバテラ→ピアテラの順番で開放されるが、この差は極めて小さいケースが多い
* ただし、観測した範囲で数回程度は順番が前後する日も存在した
* 分単位で遅延して開放されることはほぼない
    * 観測範囲でも数回程度しか発生していない
    * 基本的に『開放が分単位で遅延した』という報告の大半は放置枠や放棄枠を観測しているだけで、誰かが開放直後に一度掴んだことを観測できていないだけに過ぎないケースが大部分と考えられる
    * それでも予約確保が目的なので、確実に毎日同じタイミングで放棄枠が落ちてくると断言出来るなら有意義な観測であると言えなくもない


### 開放タイミングと満室タイミング

特にハババルに関しては顕著なのですが、**開放タイミングが早いと満室になるタイミングも異常なほど早くなる**という傾向があります。
逆に開放タイミングが遅いと、満室になるまでの時間はある程度長くなります。
これは、11時近辺に張り込んでいる人が全体的に多いという点もあるとは思いますが、常軌を逸した速さで掴む方が11時近辺に絞って狙っている可能性も高いように思います。

とは言え、開放タイミングが遅くなればなるほど、無制限に満室になるまでのインターバルが長くなるという訳でもないです。
基本的には空き枠読み込みのタイミングが開放と重なった人が有利なので、ハバグラで例えると操作時間や予約実行の通信と処理の時間を考慮しても開放から5秒以上残るケースはあまりないと考えて差し支えないかと思います。


### ハバグラの詳細な開放関連情報

特にレアリティが高く人気も高いハバグラに関しての過去の調査情報（概ね予約対象日が2022年9月半ば～2023年7月半ばの範囲）を以下に記載しておきます。

* ハバグラはホテル内に2部屋しかないが、**開放時に2枠されるケースが85%ほどを占める**
    * Twitterの予約界隈で『FTW（婚礼）枠で1年前に先行確保されてしまうケース』が噂されることがあるが、1枠しか公開されない日は15%ほどとなる
        * むしろFTW枠が少なすぎて心配になるレベル
        * 基本的にFTW側で希望があった日のハバグラが埋まるというより、予めハバグラの極々一部の枠をFTW用に提供してその範囲内でのみFTWで予約しているのではないかと思われる
    * なお、開放されない日は年間に数回レベルだが、存在はすると考えられる
    * ちなみに2枠開放される日であれば、ハバグラ2部屋を1回の予約で一気に確保することも可能
* ハバグラの開放タイミングで言うと、10秒以内に開放されるケースが8割を超える
    * 20秒台、30秒台となるケースも稀にある
    * それ以上の遅延となるケースはほとんどない
* 『最後にハバグラ空きを観測したタイミング』を満室になったタイミングと仮定すると、10秒以内に決着するケースが6割強
    * 範囲を20秒以内に拡大すると9割以上で決着がついている
    * 理屈上、ブラウザが最後に空き枠を観測した時点なので、この後に予約行動を起こしても基本的には負けると考えて差し支えない
    * よって、このタイミングをひとまず満室になったタイミングとして仮定している


### 11時開放後の放置枠

11時開放の直後はお試しや練習で挑戦する人も少なくなく、毎日のように常軌を逸した速さで確保した方が宿泊枠を確保し続ける訳でもないようです。
このため、結果的に**予約枠を掴んでもそのまま放置**されるケースがそれなりに発生しています。

また11時直後に予約枠を掴んだのに、その後の予約手続きの処理中にエラーとなってしまい、予約を完走できないという不幸なケースも発生します。
エラーの内容次第ではありますが、特にアクセス集中系のエラーで予約手続きを継続出来なくなってしまうと、内部的には**予約枠が完了せず放置されている**のと似たような状態となります。

このように予約枠を掴んだ状態で予約完了させずにいると、基本的に最後の通信から概ね30～35分程度を経過した時点で自動的に予約の権利は剥奪されて再び空き枠として扱われます。
ひとまず、このサイトではこれを放置枠と呼称することにします。

特に11時の開放直後は空き枠の有無を確認出来ないくらいの早さで満室となることが多いので、一部の方は放置枠を公式からの初回開放が遅延した枠と勘違いされているケースもあるようです。
しかし、あくまでも11時の開放を誰かが掴んで放置された枠でしかありません。
よって、当然ながらそのまま普通に予約を確保された枠は落ちては来ません。
レアリティの高い部屋で放置枠が発生すること自体を信じられない方も多いかとは思いますが、実際に11時直後に開放を観測しているのに30～35分後くらいに放置枠が発生する状況は何度も確認しています。

よって、本ページ作成時点では、放置枠は**意図的に狙う価値がある**レベルの頻度で落ちてきていると考えて良いかと思います。
具体的には11:30～35辺りを重点的にキャンセル拾いする、という手順となります。

なお、放置枠はキャンセル拾いでも理屈上は発生する可能性がありますので、キャンセル拾いで負けても次項の放棄枠や放置枠の可能性を考慮して重点的に観測を継続する価値はあるようです。


### 11時開放後の放棄枠

前項の放置枠と同様に練習等で**予約枠を掴むことが出来たらそのまま元の画面に戻って放棄**されるケースもそれなりに発生しています。
予約を掴んだ直後の画面から前に戻って検索結果の画面等に戻ると、掴んでいた予約枠の権利は剥奪されて再び空き枠として扱われます。
ちなみに予約を掴んだ状態で、別の予約も掴むと前に掴んでいた予約は自動的に放棄されて、これも同様に再び空き枠として扱われます。
ひとまず、このサイトではこれを放棄枠と呼称することにします。

この放棄枠も遅延開放と勘違いされるケースもありますが、概ね30秒以上の遅延開放は極めて稀なことなのでこれらは放棄枠である可能性が高いです。
また、30秒以内でも放棄枠が落ちるケースは存在しますが、このタイミングだと放棄枠か遅延開放かの判断は極めて困難ではあるとも思います。
予約を確保するという観点では、この辺は遅延開放でも放棄枠でも大差ないとも言えますが。

本ページ作成時点では、放棄枠はそこまで高頻度で発生しているとも言い切れない、というレベルではあります。
それでも11:00直後に負けたら、11:30くらいまで緩く放棄枠を狙ってキャンセル拾いで観測しても良いかも知れません。


### 予約枠の吸収

前項のように予約枠を放置や放棄したり、確保済みの予約枠をキャンセルした場合、基本的にほぼリアルタイムで再び空き枠として扱われるようになります。
ただし、条件は不明ながら、空き枠として戻ってこないというケースがあるようで、これを予約界隈では**吸収**と呼称しているようです。

放置／放棄／キャンセルした予約枠の吸収の条件は不明なので、これを回避する方法も明確になってはいないようです。

もちろん可能性としては、リアルタイムで再び空き枠に戻った瞬間に超高速で誰かが確保したという可能性も否定は出来ません。
よって、本当に吸収と呼ばれる現象の存在を証明することは極めて困難ですが、吸収というケースはおそらく存在していると推測します。


### 開放時点で連泊不可の部屋

宿泊予約において、検索や予約条件として最大5泊までの連泊設定をすることが可能ですが、一部の部屋は開放時点では1泊分しか予約が取れません。
つまり、人気のミラコスタのテラスルーム等で連泊したい場合、開放タイミングでは1泊ずつ個別に予約を確保する必要があります。
開放時点で連泊不可に設定されている部屋は以下のとおりです。

* ミラコスタの『スペチアーレ・ルーム＆スイート』に属するすべての部屋
    * テラスルーム（ハバグラ、ハバテラ、ピアテラ、ヴェネテラ）
    * バルコニールーム（ハババル、ハババル4名、ピアバル）
    * ハーバールーム（ハバハバ、ピアハバ）
    * 各種スイート、各種スーペリア
* ディズニーランドホテルの『コンシェルジュ・タレットルーム（７階）』のツインベッド部屋
    * コンシェルジュ・タレットルーム（７階）でもダブルの部屋は連泊取得が可能

なお、例外的に『3ヶ月前の同日が存在しない場合、翌月1日にまとめて開放される』ルールに合致している場合、まとめて開放される分は連泊で確保することが可能です。
例えば、3ヶ月前予約のケースにおいて予約対象日が05/29～06/01の分は、03/01にまとめて開放されます（うるう年ではない前提で、02/29～02/31は存在しない）。
つまり、03/01の開放タイミングではハバグラであっても05/29～06/01の4連泊の予約を取ることが可能になります。


### 長時間キャンセル拾いと予約可能時間

キャンセル拾いでカレンダーだけを更新していると、待合室に戻されることなく延々と空き枠の確認を継続することは可能です。
ただし、実際にはページ全体を読み込んでから20～30分くらいで内部的な予約可能期限を超過してしまうような**目に見えない制限**が入っているようです。
このため、予約可能な期限を無意識のうちに超過してしまうと、実際に空き枠を見つけてもエラー表示となって**確実に予約失敗する**状態になります。

対策としてはページ全体を再読み込みして予約可能期限を更新することですが、待合室を抜けてから10分以上経過しているとページ全体を再読み込みしたタイミングで待合室に戻されます。
残念ながらページ自体の再読み込みはおそらく必須なので、キャンセル拾いをする場合は**20分前後でページ全体を再読み込みして待合室経由で入り直す**を繰り返す方が良いのではないかと思われます。

ただし全体的な傾向として、待合室に戻されても実際に待機時間が発生する時間帯はあまり多くなく、待たされても1分程度なのでページ全体の再読み込みによる時間的損失はあまり大きくはありません。



### レア宿泊枠の交換に関するアンケート

過去にレア宿泊枠の交換に関して[Twitterアカウントで実施したアンケートの結果と考察](https://twitter.com/GsttnTwt/status/1639616623010279424)を再掲しておきます。

----

* アンケート設問： 特に宿泊系のスペチ枠、ハバグラ、ハバテラ、ハババル等の交換ツイートを見かけますが、実際に交換って成立するものなのでしょうかね？交換ツイートしたことがある方に聞いてみたいです。
* 回答結果（全147票）
    * 26.5% ： 交換成立した
    * 10.2% ： 希望日をもらったが、不要枠は別の人に譲渡／捨てた
    * 12.9% ： 希望日はもらえなかったが、不要枠の譲渡のみした
    * 50.3% ： 譲ることも譲られることも成立しなかった

シンプルに成功するケースが26.5%ですか。これを多いと見るか、少ないと見るかは判断が難しいところですね。
渡す方はさておき希望枠が取れた2番目の選択肢と合わせると希望枠の確保成功は36.7%ですか。

つまり、キャンセル拾いや日々の開放争奪戦の勢いで行く気もないレア枠をとりあえず確保して交換を呼びかけることで、4割弱のケースで希望枠が取れたということでしょうか。
希望枠を確保する確率を思えば、これはかなり高確率と言えそうに思いますが、如何でしょうか？

逆に63.2%で希望枠の入手は出来ず、何なら半分強のケースで枠の確保は無駄で無意味、むしろ他の誰かの希望枠を潰して妨害しただけとも言えます。
そういう意味では相当な迷惑行為でしょうかね。お渡しのみ成立は12.9%、交換不能な欲しい方の遠慮か、自分の希望を貫いて捨てたか、かなり少ないですね。

現状、半分は無駄になるなら交換枠の確保は風当たりが強そうにも思いますが、現実的に4割弱が成功ならやらざるを得ないでしょうね。
せめて無害な迷惑行為（？）を目指すなら、可能な限り早めに放棄なり欲しい人にお譲りなりを心がける程度でしょうか。

また交換枠を持っていなくても欲しい枠の交換ツイートを見かけたら声をかけてみるのは悪くないとも思います。
募集側もどうせ半分は捨てるなら、クレクレ君扱いで上から目線で吐き捨てたり、FF限定にしたりは如何なものでしょうかね。
ある程度の期日までに交換不成立なら渡しても良さそうなものですが。

難易度が高いので捨てるのも何か勿体無いとか、気軽にクレクレされると腹立たしいという感情論と『正しくキャンセルしているのだから、他の事情なんて気にしない』と思えば最後は捨てるだけになるのも仕方ないのですかね。

結局、確保への合理的判断をすると『不要枠でも掴むべき』になるのですよね。
このアカウントの中の人としてはどうでも良いのですが、結局は取ったもの勝ちで、勝ち組が確保した枠の扱いを好き勝手に決める文化は変わらないですね。
公式や第三者の目を気にしていたら希望枠は取れないので交換もひとつの手段、必要悪ということなのでしょうかね（苦笑

----


### 予約手続き中のアクセス集中エラーへの対策

特に高負荷な一括開放の際には予約手続き中にアクセス集中のエラーが発生して完走出来ないケースがあります。
アクセス集中によるエラーは予約手続きの継続を早めにしたり、遅らせたりすることである程度は確率を下げることも出来ますが、本質的に確実に回避することが出来るものでもありません。

そこで、以下の手順で**ある程度はエラー後に予約手続きに戻れる**可能性がありますので、紹介しておきます。

* 予約を掴んだ最初の画面までは普通に入る
* 『同意する』をチェックして次へ進む
    * ここでエラーになるとお手上げ、祈りながらブラウザの更新か戻るで再送信で復帰できればかなり幸運
* ワンダフルバケーションの選択画面になった場合は宿泊のみにして申し込む
    * ここでエラーになった場合もお手上げ、祈りながらブラウザの更新か戻るで再送信で復帰できればかなり幸運
* ログイン画面が開くので、ここの画面をブックマークするか、URLをコピーして**後で戻ってこられるようにしておく**
* 以降の手順の途中でアクセス集中のエラーになってしまった場合は、↑の手順で戻れるようにした画面に戻る
    * ブラウザの戻るや、リロードはせず用意しておいたブックマークか、URLを貼り付けてログイン画面に戻る
    * なお予約手順の中で既にログイン後であれば、ログイン画面は表示されずに次の『ユーザー情報確認＆お支払い方法選択』に自動で移動する
* 表示された画面から再び予約手続きを再開する

一応は、読み込みが全く終わらないというケースでも利用は可能ですが、読み込みに時間がかかるケースは素直に待つ方が確率は高いようにも思います。
もし5～10分待っても読み込み中で全く進まないようなケースで**祈りながら最後の手段として覚悟を決めて試すレベル**で利用されるのであれば、止めはしませんが。

本当はログインより後の途中経過の画面でもブックマークやURLコピーで戻れるのですが、うまく戻れなかった経験があるので一応はログイン画面を推奨しておきます。
手間を惜しまないのであれば、ログイン画面以降は画面表示が完了する都度、ブックマークかURLコピーを残しておいても良いかも知れません。
万が一の場合は最後に登録したブックマークかURLに戻れるようにしておく感じですね。

なお上記の対策をしても確実にエラーから復帰出来るとは限りませんので、本質的にはここも**運次第**です。
それでも、ブラウザの戻るや更新よりは成功率が高いと思いますので、保険程度の気持ちで準備しておいても良いかと思います。


----

[TOP](/README.md)
